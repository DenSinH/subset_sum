<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1">
      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GL0P9YL3TE"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-GL0P9YL3TE');
    </script>
    <meta charset="utf-8">
    <title>Subset Sum Solver</title>
    <meta name="description" content="Solves subset sum problem and return a set of decomposed integers." />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    </head>
  <body>
    <div class="container is-fluid">
      <h1 class="title mt-4">Find Subset</h1>
      <div class="column is-half">
        <p>It solves subset sum problem. This program was implemented in Rust and WebAssembly. 
          The calulation is done in your browser without communicating with servers.</p>
        <p>Please input values below.</p>
        <div class="field">
          <label for="subset" class="label">Subset</label>
          <input type="text" id="subset" placeholder="1, 2, 3, 4, 5" class="input">
        </div>
        <div class="field">
          <label for="sum" class="label">target sum</label>
          <input type="text" id="sum" placeholder="9" class="input">
        </div>
        <div class="field">
          <label for="max_subset" class="label">maximum subset length</label>
          <input type="text" id="max_subset" placeholder="2" class="input" size="4">
        </div>
        <button onclick="btnClick()" class="button is-link">find_subset</button>
      </div>
      <div class="column is-half card has-background-link-light">
        <p id="answer"></p>
      </div>
      <script type="module">
        import init, {wasm_find_subset} from "./pkg/dpss.js";
        
        window.btnClick = function(youCanSetParams){
          init().then(() => {
            document.getElementById("answer").innerText = wasm_find_subset(
              document.getElementById("subset").value, 
              document.getElementById("sum").value, 
              document.getElementById("max_subset").value
              )
          });
        }
      </script>
      <p><a href="index.html">Go back to main page.</a></p>
    </div>
  </body>
</html>